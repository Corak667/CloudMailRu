# Плагин [Total Commander](http://www.ghisler.com/) для работы с [cloud.mail.ru](http://cloud.mail.ru)

### Описание
Плагином поддерживаются:
* Работа с несколькими аккаунтами
* Навигация по каталогам
* Скачивание файлов из облака
* Заливка файлов в облако
* Удаление файлов в облаке
* Переименование/перемещение файлов в облаке
* Просмотр свойств файла в облаке через набор дополнительных колонок TC 

Реализован только Unicode-набор функций, на не NT-версиях Windows плагин работать не будет.
Поддержка x64-версии TC имеется.

Перед использованием ознакомьтесь с [лицензионным соглашением по использованию Сервиса Облако@mail.ru](https://cloud.mail.ru/LA/)

### Установка и использование
Скачайте [текущий стабильный релиз](https://github.com/pozitronik/CloudMailRu/releases/latest), распакуйте его, и подключите плагин MailRuCloud.wfx/MailRuCloud.wfx64. Вызовите настройки плагина (Alt+Enter), и добавьте все необходимые аккаунты.<br/>
**Внимание:** сохраняемые пароли будут храниться в открытом виде!<br /><br/>

Пароли аккаунтов можно не указывать, в этом случае они будут запрашиваться при каждом подключении.<br />
Также возможно использование встроенного в TC менеджера паролей (опции "Store password in TC password manager" в настройках и в диалоге запроса пароля).

В случае, если при попытке соединения в окне сообщений TC будет что-то вроде<br />

 Cloud login error Could not load SSL library.

нужно скопировать библиотеки libeay32.dll/ssleay32.dll в каталог Total Commander. В репозитории приложены библиотеки для Win32, сборки для x64 можно взять тут: https://indy.fulgan.com/SSL/

### Часто задаваемые вопросы

## Как и куда правильно жаловаться на проблемы?
Перед тем, как сообщать о проблеме, соберите следующую информацию:
- Версию плагина (если брали из релизов, убедитесь, что в версии из [master](https://github.com/pozitronik/CloudMailRu) ошибка всё ещё присутствует.
- Версию и разрядность вашей операционной системы, например Windows 8.1 x64 или Windows XP SP3 x32.
- Версию и разрядность Total Commander, например Total Commander 8.52a x64.
- Протокол работы плагина, содержащий код ошибки. Протокол пишется в текстовом окошке, появляющемся над файловыми панелями при соединении; полное содержимое открывается по двойному щелчку. Файл протокола обычно сохраняется в каталоге %temp%\\_tc\ с именем вроде **wcftplog.???**..<br/>
**Важно:** проблемы со сборками и репаками TC не принимаются. Убедитесь, что проблема воспроизводится на оригинальной немодифицированной установке Total Commander.
- Последовательность действий, приводящих к ошибке, ожидаемый результат и результат полученный.<br/>
Жаловаться можно в [issues](https://github.com/pozitronik/CloudMailRu/issues) или в [тему на форуме](http://forum.wincmd.ru/viewtopic.php?t=16041). Пожалуйста, убедитесь, что похожая проблема не зарегистрирована.

## Как и где сделать запрос на добавление функционала?
В [issues](https://github.com/pozitronik/CloudMailRu/issues) или в [тему на форуме](http://forum.wincmd.ru/viewtopic.php?t=16041). Пожалуйста, убедитесь, что похожих запросов не зарегистрировано (в т.ч. в закрытых issues).

## Я установил плагин, но возникает ошибка "Could not load SSL library".
В случае, если в системе уже присутствуют (и загружены в память) библиотеки libeay32.dll/ssleay32.dll нужной разрядности, плагин использует их. Это происходит в большинстве случаев, т.к. эти криптографические библиотеки используются во многих программах. В случае, если библиотеки отсутствуют в памяти, произойдёт попытка загрузки их из каталога Total Commander, затем - из каталога плагина. Убедитесь, что файлы libeay32.dll/ssleay32.dll присутствуют в этих каталогах.<br/>
Если библиотеки libeay32.dll/ssleay32.dll установлены, но ошибка повторяется, убедитесь, что они имеют нужную разрядность.<br/>
**Будьте внимательны:** цифры 32 в имени файлов libeay32.dll/ssleay32.dll не означают разрядность библиотек, т.е. их x32 и x64 версии называются одинаково.<br/>
Также можно принудительно использовать только библиотеки, находящиеся в каталоге плагина (например, во избежание проблем совместимости). Для этого включите в настройках плагина опцию "Load SSL libraries only from plugin directory".<br/>
**Полезно:** для разделения x32 и x64-версий библиотек поместите их в подкаталоги x32 и x64 соответственно.

## Плагин показывает пустой список каталогов.
Вы подключили его к старой версии Total Commander, не поддерживающей Unicode. Минимальная требуемая версия Total Commander - 7.5, однако некоторые возможности не будут работать (или будут работать некорректно) на версиях ниже 8.5.

## Работает ли плагин в программе %software_name%?
Некоторые файловые менеджеры поддерживают файлсистемные плагины от Total Commander, но работоспособность гарантируется только для Total Commander. В случае возникновения проблем при использовании с другими программами обращайтесь к их разработчикам.

### Licence
GNU GPL v3.0
